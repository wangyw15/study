# 第 3 周

# 实验

1. 查询每门课程中分数最高的学生学号和学生姓名。
2. 求年龄大于所有女同学年龄的男学生姓名和年龄。
3. 查询上了马小红老师开的所有课的学生学号和课号及成绩。
4. 查询计算机学院男生选修本学院教授开设的课不及格的且还未重修的课，输出学生的学期，学号，课号，按学期升序，学期相同按学号升序排列。

# 研讨

1. 什么是聚集索引？什么是非聚集索引？索引的作用是什么？请说明上周实验题 1 的验证过程及所得到的结果。
2. 对 school 数据库，用多种方法表达查询：
   1. 查找有学生重修的课程，输出重修课的开课学期，课程名，教师工号。
   2. 查询上了马小红老师开的所有课的学生学号和课号及成绩。
3. 游戏数据库中有如下表：

| Players | PID | NICKNAME | EMAIL | PASSWORD | SCORE | RANK | WIN | LOST |
| :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: |
| 玩家 | 玩家 ID | 昵称 | 邮箱 | 密码 | 积分 | 等级 | 赢的次数 | 输的次数 |

| Games | GID | GNAME | VALUE | CID | DEVELOPER | EDITION |
| :-: | :-: | :-: | :-: | :-: | :-: | :-: |
| 游戏 | ID | 游戏名 | 分值 | 游戏类别 | 开发者 | 版本 |

| Category | CID | CNAME | DESCRIPTION |
| :-: | :-: | :-: | :-: |
| 游戏类别 | 游戏 ID | 类别名称 | 描述 |

| Battle | GID | PLAYER1 | PLAYER2 | WINNER | STATUS | TIME | DUR |
| :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: |
| 对战 | 游戏 ID | 玩家 1 | 玩家 2 | 胜者 | 状态 | 开始时间 | 时长 |

| Rank | RID | RNAME | SCORE | UP_SCORE | DESCRIPTION |
| :-: | :-: | :-: | :-: | :-: | :-: |
| 等级 | 等级 ID | 等级名 | 等级分 | 升级分 | 描述 |

> 用 SQL 语言实现下列操作（提倡多种方法）：

- 查询胜率大于 50%的玩家玩过的由“盛大公司”开发的游戏的名称和分值。
- 查询玩过所有游戏并获胜过的游戏玩家的昵称、积分、等级名以及还差
多少分可以升级。

4. 对 3 题中的游戏数据库，做如下查询：（提倡多种方法）
- 查询游戏玩家 P001 没有玩过的游戏名称及其类别 ID。
- 查询至少在“B01(王者荣耀)”和“B02(帝国时代)”两个游戏中都获胜过的游戏玩家的昵称、手机和等级名。
